{"ast":null,"code":"var _jsxFileName = \"D:\\\\6883\\\\finalWork_new\\\\client\\\\src\\\\my_joined_fundings.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nlet FundingInstance = require('./eth/Funding');\n\nlet web3 = require('./utils/InitWeb3');\n\nlet project = {};\nlet projects = [];\nlet ddl = '';\nlet style = '';\nlet state = '';\nlet indexes = [];\n\nclass my_joined_fundings extends React.Component {\n  constructor() {\n    super();\n\n    this.componentWillMount = async () => {\n      projects = []; //清空数组\n      //获取当前的所有地址\n\n      let accounts = await web3.eth.getAccounts();\n      let projects_number = await FundingInstance.methods.allFundingsLength().call();\n\n      for (let i = 0; i < projects_number; i++) {\n        let project = await FundingInstance.methods.allFundings(i).call();\n        let money = await FundingInstance.methods.getMyFundings(i).call({\n          from: accounts[0]\n        });\n\n        if (money > 0) {\n          console.log(i);\n          indexes.push(i);\n          projects.push(project);\n        }\n      }\n\n      this.setState({\n        // manager: manager,\n        accounts: accounts\n      });\n    };\n\n    this.state = {\n      accounts: ''\n    };\n  }\n\n  Is_complete_style(id) {\n    project = projects[id];\n    ddl = project.deadline;\n    let current_time = Date.parse(new Date());\n\n    if (project.isSuccess === true) {\n      style = \"badge badge-info ml-3\";\n    } else {\n      if (ddl - current_time >= 0) {\n        style = \"badge badge-warning ml-3\";\n      } else {\n        style = \"badge badge-secondary ml-3\";\n      }\n    }\n\n    return style;\n  }\n\n  Is_complete(id) {\n    project = projects[id];\n    ddl = project.deadline;\n    let current_time = Date.parse(new Date());\n\n    if (project.isSuccess === true) {\n      state = \"Finished\";\n    } else {\n      if (ddl - current_time >= 0) {\n        state = \"Ongoing\";\n      } else {\n        state = \"Expired\";\n      }\n    }\n\n    return state;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion\",\n      id: \"accordionSidebar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"sidebar-brand d-flex align-items-center justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sidebar-brand-icon rotate-n-15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-laugh-wink\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"sidebar-brand-text mx-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Punch Go \", React.createElement(\"sup\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"zju\"))), React.createElement(\"li\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"nav-link\",\n      to: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-fw fa-tachometer-alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Home\"))), React.createElement(\"li\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"nav-link\",\n      to: \"/allfundings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-fw fa-tachometer-alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"All Punches\"))), React.createElement(\"li\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"nav-link\",\n      to: \"/createfunding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-fw fa-tachometer-alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Initiate a Punch\"))), React.createElement(\"li\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-link collapsed\",\n      href: \"#\",\n      \"data-toggle\": \"collapse\",\n      \"data-target\": \"#collapseTwo\",\n      \"aria-expanded\": \"true\",\n      \"aria-controls\": \"collapseTwo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-fw fa-tachometer-alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"My Punches\")), React.createElement(\"div\", {\n      id: \"collapseTwo\",\n      className: \"collapse\",\n      \"aria-labelledby\": \"headingTwo\",\n      \"data-parent\": \"#accordionSidebar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bg-white py-2 collapse-inner rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      className: \"collapse-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"My Punches:\"), React.createElement(Link, {\n      className: \"collapse-item\",\n      to: \"/my_launch_fundings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Punches Initiated\"), React.createElement(Link, {\n      className: \"collapse-item active\",\n      to: \"/my_joined_fundings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Punches Participated\"))))), React.createElement(\"div\", {\n      id: \"content-wrapper\",\n      className: \"d-flex flex-column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      className: \"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"sidebarToggleTop\",\n      className: \"btn btn-link d-md-none rounded-circle mr-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-bars\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })), React.createElement(\"form\", {\n      className: \"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control bg-light border-0 small\",\n      placeholder: \"Search Punches\",\n      \"aria-label\": \"Search\",\n      \"aria-describedby\": \"basic-addon2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group-append\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-search fa-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }))))), React.createElement(\"ul\", {\n      className: \"navbar-nav ml-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"nav-item dropdown no-arrow d-sm-none\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-link dropdown-toggle\",\n      href: \"#\",\n      id: \"searchDropdown\",\n      role: \"button\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-haspopup\": \"true\",\n      \"aria-expanded\": \"false\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-search fa-fw\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in\",\n      \"aria-labelledby\": \"searchDropdown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form-inline mr-auto w-100 navbar-search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control bg-light border-0 small\",\n      placeholder: \"Search for...\",\n      \"aria-label\": \"Search\",\n      \"aria-describedby\": \"basic-addon2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group-append\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-search fa-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }))))))), React.createElement(\"li\", {\n      className: \"nav-item dropdown no-arrow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-link dropdown-toggle\",\n      href: \"#\",\n      id: \"userDropdown\",\n      role: \"button\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-haspopup\": \"true\",\n      \"aria-expanded\": \"false\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"mr-2 d-none d-lg-inline text-gray-600 small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"Current Account Address\\uFF1A\", this.state.accounts[0]), React.createElement(\"img\", {\n      className: \"img-profile rounded-circle\",\n      src: \"img/undraw_profile.svg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, projects.length === 0 ? null : projects.map((item, index) => {\n      return React.createElement(\"div\", {\n        className: \"card mb-4 py-3 border-left-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Activity Name\\uFF1A \", item.title, React.createElement(\"span\", {\n        className: this.Is_complete_style(index),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, this.Is_complete(index)), React.createElement(Link, {\n        className: \"btn btn-info\",\n        style: {\n          float: \"right\"\n        },\n        to: {\n          pathname: '/my_joined_funding_detail/' + indexes[index]\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"View Details\")));\n    }, this)))))));\n  }\n\n}\n\nexport default my_joined_fundings;","map":{"version":3,"sources":["D:/6883/finalWork_new/client/src/my_joined_fundings.js"],"names":["React","Component","Link","FundingInstance","require","web3","project","projects","ddl","style","state","indexes","my_joined_fundings","constructor","componentWillMount","accounts","eth","getAccounts","projects_number","methods","allFundingsLength","call","i","allFundings","money","getMyFundings","from","console","log","push","setState","Is_complete_style","id","deadline","current_time","Date","parse","isSuccess","Is_complete","render","length","map","item","index","title","float","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {Link} from \"react-router-dom\";\nlet FundingInstance = require('./eth/Funding')\nlet web3 = require('./utils/InitWeb3');\nlet project = {}\nlet projects = []\nlet ddl = ''\nlet style = ''\nlet state = ''\nlet indexes = []\nclass my_joined_fundings extends  React.Component {\n    constructor() {\n        super()\n        this.state = {\n            accounts: ''\n        }\n    }\n    Is_complete_style(id){\n        project = projects[id]\n        ddl = project.deadline\n        let current_time = Date.parse(new Date())\n        if(project.isSuccess === true){\n            style = \"badge badge-info ml-3\"\n        }\n        else{\n            if(ddl - current_time >= 0){\n                style = \"badge badge-warning ml-3\"\n            }\n            else{\n                style = \"badge badge-secondary ml-3\"\n            }\n        }\n        return style\n    }\n    Is_complete(id){\n        project = projects[id]\n        ddl = project.deadline\n        let current_time = Date.parse(new Date())\n        if(project.isSuccess === true){\n            state = \"Finished\"\n        }\n        else{\n            if(ddl - current_time >= 0){\n                state = \"Ongoing\"\n            }\n            else{\n                state = \"Expired\"\n            }\n        }\n        return state\n    }\n    componentWillMount = async () => {\n        projects = [] //清空数组\n        //获取当前的所有地址\n        let accounts = await web3.eth.getAccounts()\n        let projects_number = await FundingInstance.methods.allFundingsLength().call()\n        for(let i = 0; i < projects_number; i++){\n            let project =await FundingInstance.methods.allFundings(i).call()\n            let money = await FundingInstance.methods.getMyFundings(i).call({\n                from: accounts[0]\n            })\n            if(money > 0){\n                console.log(i)\n                indexes.push(i)\n                projects.push(project)\n            }\n        }\n        this.setState({\n            // manager: manager,\n            accounts: accounts\n        })\n    };\n    render() {\n        return (\n            <div id=\"wrapper\">\n\n                <ul className=\"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion\" id=\"accordionSidebar\">\n\n                    <a className=\"sidebar-brand d-flex align-items-center justify-content-center\">\n                        <div className=\"sidebar-brand-icon rotate-n-15\">\n                            <i className=\"fas fa-laugh-wink\"/>\n                        </div>\n                        <div className=\"sidebar-brand-text mx-3\">Punch Go <sup>zju</sup></div>\n                    </a>\n\n                    {/*<!-- Divider -->*/}\n                    {/*<hr className=\"sidebar-divider my-0\">*/}\n\n                    {/*// <!-- Nav Item - Dashboard -->*/}\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to='/home'>\n                            <i className=\"fas fa-fw fa-tachometer-alt\"/>\n                            <span>Home</span></Link>\n                    </li>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to='/allfundings'>\n                            <i className=\"fas fa-fw fa-tachometer-alt\"/>\n                            <span>All Punches</span></Link>\n                    </li>\n                    {/*<!-- Divider -->*/}\n                    {/*<hr className=\"sidebar-divider\">*/}\n\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to='/createfunding'>\n                            <i className=\"fas fa-fw fa-tachometer-alt\"/>\n                            <span>Initiate a Punch</span></Link>\n                    </li>\n\n                    {/*<!-- Divider -->*/}\n                    {/*<hr className=\"sidebar-divider\">*/}\n\n                    <li className=\"nav-item\">\n                        <a className=\"nav-link collapsed\" href=\"#\" data-toggle=\"collapse\" data-target=\"#collapseTwo\"\n                           aria-expanded=\"true\" aria-controls=\"collapseTwo\">\n                            <i className=\"fas fa-fw fa-tachometer-alt\"/>\n                            <span>My Punches</span>\n                        </a>\n                        <div id=\"collapseTwo\" className=\"collapse\" aria-labelledby=\"headingTwo\"\n                             data-parent=\"#accordionSidebar\">\n                            <div className=\"bg-white py-2 collapse-inner rounded\">\n                                <h6 className=\"collapse-header\">My Punches:</h6>\n                                <Link className=\"collapse-item\" to=\"/my_launch_fundings\">Punches Initiated</Link>\n                                <Link className=\"collapse-item active\" to=\"/my_joined_fundings\">Punches Participated</Link>\n                            </div>\n                        </div>\n                    </li>\n\n                </ul>\n                <div id=\"content-wrapper\" className=\"d-flex flex-column\">\n                    <div id=\"content\">\n                        <nav className=\"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow\">\n                            <button id=\"sidebarToggleTop\" className=\"btn btn-link d-md-none rounded-circle mr-3\">\n                                <i className=\"fa fa-bars\"/>\n                            </button>\n\n                            <form\n                                className=\"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search\">\n                                <div className=\"input-group\">\n                                    <input type=\"text\" className=\"form-control bg-light border-0 small\"\n                                           placeholder=\"Search Punches\"\n                                           aria-label=\"Search\" aria-describedby=\"basic-addon2\"/>\n                                    <div className=\"input-group-append\">\n                                        <button className=\"btn btn-primary\" type=\"button\">\n                                            <i className=\"fas fa-search fa-sm\"/>\n                                        </button>\n                                    </div>\n                                </div>\n                            </form>\n\n                            <ul className=\"navbar-nav ml-auto\">\n\n                                <li className=\"nav-item dropdown no-arrow d-sm-none\">\n                                    <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"searchDropdown\" role=\"button\"\n                                       data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                        <i className=\"fas fa-search fa-fw\"/>\n                                    </a>\n\n                                    <div className=\"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in\"\n                                         aria-labelledby=\"searchDropdown\">\n                                        <form className=\"form-inline mr-auto w-100 navbar-search\">\n                                            <div className=\"input-group\">\n                                                <input type=\"text\" className=\"form-control bg-light border-0 small\"\n                                                       placeholder=\"Search for...\" aria-label=\"Search\"\n                                                       aria-describedby=\"basic-addon2\"/>\n                                                <div className=\"input-group-append\">\n                                                    <button className=\"btn btn-primary\" type=\"button\">\n                                                        <i className=\"fas fa-search fa-sm\"/>\n                                                    </button>\n                                                </div>\n                                            </div>\n                                        </form>\n                                    </div>\n                                </li>\n\n\n                                <li className=\"nav-item dropdown no-arrow\">\n                                    <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"userDropdown\" role=\"button\"\n                                       data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                            <span className=\"mr-2 d-none d-lg-inline text-gray-600 small\">\n                                                Current Account Address：{this.state.accounts[0]}</span>\n                                        <img className=\"img-profile rounded-circle\"\n                                             src=\"img/undraw_profile.svg\"/>\n                                    </a>\n                                </li>\n\n                            </ul>\n\n                        </nav>\n\n                        <div className=\"container-fluid\">\n                            <div className=\"row\">\n\n                                <div className=\"col-lg-12\">\n                                    {\n                                        (projects.length === 0)\n                                            ? null\n                                            : projects.map((item, index) => {\n                                                return (\n                                                    <div className=\"card mb-4 py-3 border-left-warning\">\n                                                        <div className=\"card-body\">\n                                                            Activity Name： {item.title}\n                                                            <span\n                                                                className={this.Is_complete_style(index)}>{this.Is_complete(index)}</span>\n                                                            <Link className=\"btn btn-info\" style={{float: \"right\"}}\n                                                                  to={{pathname: '/my_joined_funding_detail/' + indexes[index]}}>View Details</Link>\n                                                        </div>\n                                                    </div>\n                                                )\n                                            }, this)\n                                    }\n\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default my_joined_fundings;"]},"metadata":{},"sourceType":"module"}